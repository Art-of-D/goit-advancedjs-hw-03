{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/index.js"],"sourcesContent":["\"use strict\";\nimport axios from \"axios\";\naxios.defaults.headers.common[\"x-api-key\"] = \"live_oSINAuIL5VeXPZdbvcxtlq0EkN8PZNKc0mxfdrsdea4ju9clPwyFoZ9g0X0IN5Ib\";\n\nexport function fetchBreeds() {\n    return axios.get('https://api.thecatapi.com/v1/breeds')\n    .then(function (response) {\n      return response.data;\n    })\n    .catch(function (error) {\n      console.log(error);\n      throw error;\n    });\n}\n\nexport function fetchCatByBreed(breedId) {\n   return axios.get(`https://api.thecatapi.com/v1/images/search?breed_=ids${breedId}`)\n        .then(function (response) {\n            return response.data;\n        })\n        .catch(function (error) {\n            console.log(error);\n        });\n}","\"use strict\";\nimport { fetchBreeds, fetchCatByBreed } from \"./js/cat-api\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst hidden = \"visually-hidden\";\nconst elements = {\n    breeds: document.querySelector(\".breed-select\"),\n    catInfo: document.querySelector(\".cat-info\"),\n    loader: document.querySelector(\".loader\"),\n    hiddenBreeds(){\n      this.breeds.classList.add(hidden)\n    },\n    unhiddenBreeds(){\n      this.breeds.classList.remove(hidden)\n    },\n    hiddenCatInfo(){\n      this.catInfo.classList.add(hidden)\n    },\n    unhiddenCatInfo(){\n      this.catInfo.classList.remove(hidden)\n    },\n    hiddenLoader(){\n      this.loader.classList.add(hidden)\n    },\n    unhiddenLoader(){\n      this.loader.classList.remove(hidden)\n    },\n}\nlet catsData = [];\n\nelements.hiddenBreeds();\n\nfetchBreeds()\n  .then((value) => {\n    catsData = value;\n    value.forEach((element) => {\n      fillSelect(element);\n    });\n    elements.hiddenLoader();\n    elements.unhiddenBreeds();\n  })\n  .catch((reason) => {\n    console.error(reason);\n    elements.hiddenLoader();\n    showError();\n  });\n\n\nfunction fillSelect(element){\n    const option = `<option value=\"${element.id}\">${element.name}</option>`;\n    elements.breeds.insertAdjacentHTML(\"beforeend\", option);\n}\n\nelements.breeds.addEventListener(\"change\", () => {\n    const id = elements.breeds.value;\n    elements.hiddenCatInfo();\n    elements.unhiddenLoader();\n    fetchCatByBreed(id)\n        .then((value) => {\n            if (value.length === 0 ){\n                throw new Error(\"No image\");\n            }\n            elements.hiddenLoader();\n            elements.unhiddenCatInfo();\n            fillCatInfo(value[0], id);\n        })\n        .catch((reason) => {\n            console.log(reason);\n            elements.hiddenLoader();\n            elements.hiddenBreeds();\n            showError();\n        })\n  });\n\nfunction fillCatInfo(cat, id) {\n    const {url} = cat;\n    const {name, description, temperament} = getCatData(id);\n    console.log(cat);\n    const createCatInfo = `\n    <img class=\"cat-image\" alt=\"cat\" src=${url} width=400px height=400px></img>\n    <div class=\"body__internal-wrapper\">\n      <h2 class=\"body__head2\">${name}</h2>\n      <p class=\"body__p-description\">${description}</p>\n      <h3 class=\"body__head3-temperament\">Temperament:</h3>\n      <p class=\"body__p-temperament\">${temperament}</p>\n    </div>`;\n    elements.catInfo.innerHTML = createCatInfo;\n}\n\nfunction getCatData(id) {\n    return catsData.find(value => value.id === id);\n}\n\nfunction showError(){\n  iziToast.error({\n    message: 'Oops! Something went wrong! Try reloading the page!',\n    position: 'topRight',\n  });\n}"],"names":["axios","fetchBreeds","response","error","fetchCatByBreed","breedId","hidden","elements","catsData","value","element","fillSelect","reason","showError","option","id","fillCatInfo","cat","url","name","description","temperament","getCatData","createCatInfo","iziToast"],"mappings":"6vBAEAA,EAAM,SAAS,QAAQ,OAAO,aAAe,wEAEtC,SAASC,GAAc,CAC1B,OAAOD,EAAM,IAAI,qCAAqC,EACrD,KAAK,SAAUE,EAAU,CACxB,OAAOA,EAAS,IACtB,CAAK,EACA,MAAM,SAAUC,EAAO,CACtB,cAAQ,IAAIA,CAAK,EACXA,CACZ,CAAK,CACL,CAEO,SAASC,EAAgBC,EAAS,CACtC,OAAOL,EAAM,IAAI,wDAAwDK,GAAS,EAC5E,KAAK,SAAUH,EAAU,CACtB,OAAOA,EAAS,IAC5B,CAAS,EACA,MAAM,SAAUC,EAAO,CACpB,QAAQ,IAAIA,CAAK,CAC7B,CAAS,CACT,CClBA,MAAMG,EAAS,kBACTC,EAAW,CACb,OAAQ,SAAS,cAAc,eAAe,EAC9C,QAAS,SAAS,cAAc,WAAW,EAC3C,OAAQ,SAAS,cAAc,SAAS,EACxC,cAAc,CACZ,KAAK,OAAO,UAAU,IAAID,CAAM,CACjC,EACD,gBAAgB,CACd,KAAK,OAAO,UAAU,OAAOA,CAAM,CACpC,EACD,eAAe,CACb,KAAK,QAAQ,UAAU,IAAIA,CAAM,CAClC,EACD,iBAAiB,CACf,KAAK,QAAQ,UAAU,OAAOA,CAAM,CACrC,EACD,cAAc,CACZ,KAAK,OAAO,UAAU,IAAIA,CAAM,CACjC,EACD,gBAAgB,CACd,KAAK,OAAO,UAAU,OAAOA,CAAM,CACpC,CACL,EACA,IAAIE,EAAW,CAAA,EAEfD,EAAS,aAAY,EAErBN,EAAa,EACV,KAAMQ,GAAU,CACfD,EAAWC,EACXA,EAAM,QAASC,GAAY,CACzBC,EAAWD,CAAO,CACxB,CAAK,EACDH,EAAS,aAAY,EACrBA,EAAS,eAAc,CAC3B,CAAG,EACA,MAAOK,GAAW,CACjB,QAAQ,MAAMA,CAAM,EACpBL,EAAS,aAAY,EACrBM,GACJ,CAAG,EAGH,SAASF,EAAWD,EAAQ,CACxB,MAAMI,EAAS,kBAAkBJ,EAAQ,OAAOA,EAAQ,gBACxDH,EAAS,OAAO,mBAAmB,YAAaO,CAAM,CAC1D,CAEAP,EAAS,OAAO,iBAAiB,SAAU,IAAM,CAC7C,MAAMQ,EAAKR,EAAS,OAAO,MAC3BA,EAAS,cAAa,EACtBA,EAAS,eAAc,EACvBH,EAAgBW,CAAE,EACb,KAAMN,GAAU,CACb,GAAIA,EAAM,SAAW,EACjB,MAAM,IAAI,MAAM,UAAU,EAE9BF,EAAS,aAAY,EACrBA,EAAS,gBAAe,EACxBS,EAAYP,EAAM,GAAIM,CAAE,CACpC,CAAS,EACA,MAAOH,GAAW,CACf,QAAQ,IAAIA,CAAM,EAClBL,EAAS,aAAY,EACrBA,EAAS,aAAY,EACrBM,GACZ,CAAS,CACT,CAAG,EAEH,SAASG,EAAYC,EAAKF,EAAI,CAC1B,KAAM,CAAC,IAAAG,CAAG,EAAID,EACR,CAAC,KAAAE,EAAM,YAAAC,EAAa,YAAAC,CAAW,EAAIC,EAAWP,CAAE,EACtD,QAAQ,IAAIE,CAAG,EACf,MAAMM,EAAgB;AAAA,2CACiBL;AAAA;AAAA,gCAEXC;AAAA,uCACOC;AAAA;AAAA,uCAEAC;AAAA,YAEnCd,EAAS,QAAQ,UAAYgB,CACjC,CAEA,SAASD,EAAWP,EAAI,CACpB,OAAOP,EAAS,KAAKC,GAASA,EAAM,KAAOM,CAAE,CACjD,CAEA,SAASF,GAAW,CAClBW,EAAS,MAAM,CACb,QAAS,sDACT,SAAU,UACd,CAAG,CACH"}